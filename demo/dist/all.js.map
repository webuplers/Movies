{"version":3,"sources":["movie-filter.js","script.js","_global.js"],"names":["app","$","jQuery","noConflict","load_all_movie","keyword","pageno","ajax_url","movie_filter_ajax_params","ajax","type","url","data","action","dataType","beforeSend","fadeIn","success","append","movies","val","parseInt","page","fadeOut","each","index","value","movieTitle","this","find","text","reg","RegExp","txt","replace","str","html","console","log","id","document","ready","on","e","empty","preventDefault","global","init","loadHeader"],"mappings":"AACA,IAAAA,IAAA,GAEAC,EAAAC,OAAAC,aAsBA,SAAAC,eAAAC,EAAAC,GACA,IAAAC,EAAAC,yBAAAD,SACAN,EAAAQ,KAAA,CACAC,KAAA,OACAC,IAAAJ,EACAK,KAAA,CACAC,OAAA,cACAR,QAAAA,EACAC,OAAAA,GAEAQ,SAAA,OACAC,WAAA,WAEAd,EAAA,gBAAAe,UAEAC,QAAA,SAAAL,GACAX,EAAA,mBAAAiB,OAAAN,EAAAO,QACAlB,EAAA,gBAAAmB,IAAAC,SAAApB,EAAA,gBAAAmB,OAAAC,SAAA,KACApB,EAAA,WAAAmB,IAAAR,EAAAU,OAEArB,EAAA,aAAAsB,UAGAtB,EAAA,mBAAAuB,MAAA,SAAAC,EAAAC,GACA,IAAAC,EAAA1B,EAAA2B,MAAAC,KAAA,kBAAAC,OACAC,EAAA,IAAAC,OAAApB,EAAAP,QAAA,MACA4B,EAAAN,EAAAO,QAAAH,GAAA,SAAAI,GACA,MAAA,gBAAAvB,EAAAP,QAAA,KAAA8B,EAAA,aAEAlC,EAAA2B,MAAAC,KAAA,kBAAAO,KAAAH,GACAI,QAAAC,IAAA,MAAAb,MAAAG,KAAAW,SAGAtC,EAAA,gBAAAsB,aAtDAtB,EAAAuC,UAAAC,OAAA,WAGArC,eAFA,MACA,MAIAH,EAAA,oBAAAyC,GAAA,UAAA,SAAAC,GACA1C,EAAA,mBAAA2C,QAIA,OADAxC,eAFAH,EAAA,YAAAmB,MACA,IAEA,KAGAnB,EAAA,kBAAAyC,GAAA,SAAA,SAAAC,GACAA,EAAAE,iBAGAzC,eAFAH,EAAA,YAAAmB,MACAnB,EAAA,gBAAAmB,WCpBApB,IAAA,ICAA8C,OAAA,CACAC,KAAA,WACA/C,IAAA8C,OAAAE,cAEAA,WAAA,cAKAhD,IAAA8C,OAAAC","file":"all.js","sourcesContent":["    // Instantiating the global app object\n    var app = {};\n    // \n    var $ = jQuery.noConflict();\n    $(document).ready(function(){\n        var keyword = \"red\"; // set default keyword\n        var pageno = 1; // set default page number\n        load_all_movie(keyword,pageno); // default load red keyword movies\n    });\n    // on form submit filter movies\n    $('form.form-inline').on('submit',function(e){\n        $('#movie-listings').empty();\n        var keyword = $('#keyword').val(); // get keyword value here\n        var pageno = 1; // set default page number\n        load_all_movie(keyword,pageno); // pass keyword arg into the function\n        return false;\n    });\n    // ajax pagination\n    $('.loadMore span').on('click',function(e){\n        e.preventDefault();\n        var keyword = $('#keyword').val(); // get keyword value here\n        var pageno = $('#currentpage').val();\n        load_all_movie(keyword,pageno);\n    });\n    // Load movies\n    function load_all_movie(keyword,pageno){\n        var ajax_url = movie_filter_ajax_params.ajax_url;    \n        $.ajax({\n            type: 'POST',\n            url: ajax_url,\n            data: {\n                action: 'moviefilter',\n                keyword : keyword,\n                pageno  : pageno\n            },\n            dataType : 'json', // this data type allows us to receive objects from the server\n            beforeSend: function () {\n                //Show loader here\n                $('.movieLoader').fadeIn();\n            },\n            success: function (data) {\n                $('#movie-listings').append(data.movies); // movie listing shows here\n                var currentPage = $('#currentpage').val(parseInt($('#currentpage').val())+ parseInt(1)); // increase the page number on success\n                var totalPage = $('#pageno').val(data.page); // get total page \n                if(currentPage == totalPage) {\n                    $('.loadMore').fadeOut(); // hide load more button\n                }\n                // add background color to keywords\n                $('div.equalHeight').each(function(index, value) {\n                    var movieTitle = $(this).find('.panel-heading').text();\n                    var reg = new RegExp(data.keyword, 'gi'); // find keyword \n                    var txt = movieTitle.replace(reg, function(str) {\n                        return \"<span class='\"+data.keyword+\"'>\" + str + \"</span>\" // wrap <span> tag\n                    });\n                    $(this).find('.panel-heading').html(txt);\n                        console.log(`div${index}: ${this.id}`);\n                    });\n                \n                $('.movieLoader').fadeOut(); // hide loader here\n            }\n        });\n    }","// Instantiating the global app object\nvar app = {};\n","// Global\napp.global = {\n    init: function(){ // Load all global functions here\n        app.global.loadHeader();\n    },\n    loadHeader: function(){ // Some specific function\n    }\n}\n\n// Run the global stuff\napp.global.init();"]}